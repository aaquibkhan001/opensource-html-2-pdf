package io.github.aaquibkhan.conversion;

import io.github.aaquibkhan.model.ConversionRequestModel;
import io.github.aaquibkhan.utils.Constants;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.InjectMocks;
import org.springframework.test.context.junit.jupiter.SpringExtension;

import java.io.UnsupportedEncodingException;

/**
 * @author aaquibkhan001
 * @version 1.0
 * @since 1.0 (Created Oct. 02, 2023)
 */


@ExtendWith(SpringExtension.class)
public class HtmlConversionServiceImplTest {

	@InjectMocks
	HtmlConversionServiceImpl htmlConversionService;

	@Test
	public void test_conversion_withInvalidHtml() throws UnsupportedEncodingException {
		ConversionRequestModel conversionRequestModel = ConversionRequestModel.builder().htmlContent("ljljlj").build();

		String result = htmlConversionService.convertHtmlToPdf(conversionRequestModel);

		assert result.equals(Constants.INVALID_HTML_INPUT);
	}

	@Test
	public void test_conversion_withEmptyHtml() throws UnsupportedEncodingException {
		ConversionRequestModel conversionRequestModel = ConversionRequestModel.builder().htmlContent("").build();

		String result = htmlConversionService.convertHtmlToPdf(conversionRequestModel);

		assert result.equals(Constants.INVALID_HTML_INPUT);
	}

	@Test
	public void test_conversion_witValidHtml() throws UnsupportedEncodingException {
		String encodedHtml = "PCFET0NUWVBFIGh0bWw+Cgo8aHRtbCB4bWxuczp0aD0iaHR0cDovL3d3dy50aHltZWxlYWYub3JnIj4KCjxoZWFkPgoJPHRpdGxlPlBERjwvdGl0bGU+Cgk8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiB0aDpocmVmPSJAey9jc3MvcGRmLmNzc30iLz4KPHN0eWxlPgoJLnBhZ2VDb250YWluZXIgewoJZGlzcGxheTogZmxleDsKCWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47Cgl3aWR0aDogNTk1cHg7Cglib3JkZXI6IDFweCBzb2xpZCBibGFjazsKCXBhZGRpbmc6IDUwcHggNDRweCAzOHB4IDQ0cHg7Cglib3gtc2l6aW5nOiBib3JkZXItYm94OwoJd2lkdGg6IDU5NXB4Owp9CgouaGVhZGVyUGFnZTEgewoJZGlzcGxheTogZmxleDsKCXBhZGRpbmctYm90dG9tOiAyNXB4OwoJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKCWp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKCXdpZHRoOiA1MDdweDsKCWhlaWdodDogMTQwcHg7Cglib3JkZXItYm90dG9tOiAxcHggc29saWQgYmxhY2s7Cn0KCi5oZWFkZXJQYWdlMUxpbmUxIHsKCWRpc3BsYXk6IGZsZXg7CglmbGV4LWRpcmVjdGlvbjogcm93OwoJanVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwoJd2lkdGg6IDEwMCU7Cn0KCi5oZWFkZXJQYWdlMUxpbmUyIHsKCWRpc3BsYXk6IGZsZXg7CglmbGV4LWRpcmVjdGlvbjogcm93OwoJanVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwoJd2lkdGg6IDEwMCU7Cn0KCi5ib2R5UGFnZTEgewoJd2lkdGg6IDUwN3B4OwoJbWFyZ2luLXRvcDogNXB4Owp9CgouYm9keVBhZ2UyIHsKCXdpZHRoOiA1MDdweDsKCW1hcmdpbi10b3A6IDI3cHg7Cn0KCi5mb290ZXJQYWdlMSB7CglkaXNwbGF5OiBmbGV4OwoJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKCW1hcmdpbi10b3A6IDUwcHg7Cgl3aWR0aDogNTA3cHg7Cglib3JkZXItdG9wOiAxcHggc29saWQgI0Y1RDA0OTsKCW1hcmdpbi10b3A6IDUwcHg7Cn0KCi5sYWJlbEhlYWRlclBhZ2UxIHsKCWNvbG9yOiAjMDAwOwoJZm9udC1mYW1pbHk6IExhdG87Cglmb250LXNpemU6IDEycHg7Cglmb250LXN0eWxlOiBub3JtYWw7Cglmb250LXdlaWdodDogNzAwOwoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGJsYWNrOwoJcGFkZGluZy1ib3R0b206IDIuNXB4Owp9CgoubGFiZWxTdWJIZWFkZXJQYWdlMSB7Cgljb2xvcjogIzAwMDsKCWZvbnQtZmFtaWx5OiBMYXRvOwoJZm9udC1zaXplOiAxMnB4OwoJZm9udC1zdHlsZTogaXRhbGljOwoJZm9udC13ZWlnaHQ6IDQwMDsKfQoKLmxhYmVsMkhlYWRlclBhZ2UxIHsKCWNvbG9yOiAjMDAwOwoJZm9udC1mZWF0dXJlLXNldHRpbmdzOiAnY2xpZycgb2ZmLCAnbGlnYScgb2ZmOwoJZm9udC1mYW1pbHk6IExhdG87Cglmb250LXNpemU6IDEycHg7Cglmb250LXN0eWxlOiBub3JtYWw7Cglmb250LXdlaWdodDogNzAwOwoJbGluZS1oZWlnaHQ6IDE1cHg7IC8qIDEyNSUgKi8KfQoKLmxhYmVsMlN1YkhlYWRlclBhZ2UxIHsKCWNvbG9yOiAjMDAwOwoJZm9udC1mYW1pbHk6IExhdG87Cglmb250LXNpemU6IDEycHg7Cglmb250LXN0eWxlOiBub3JtYWw7Cglmb250LXdlaWdodDogNDAwOwoJbGluZS1oZWlnaHQ6IDE1cHg7IC8qIDEyNSUgKi8KfQoKLmRhdGVUaW1lUGFnZTEgewoJY29sb3I6ICMwMDA7Cgl0ZXh0LWFsaWduOiByaWdodDsKCWZvbnQtZmFtaWx5OiBMYXRvOwoJZm9udC1zaXplOiAxMnB4OwoJZm9udC1zdHlsZTogbm9ybWFsOwoJZm9udC13ZWlnaHQ6IDQwMDsKCWxpbmUtaGVpZ2h0OiAxNXB4OyAvKiAxMjUlICovCn0KCi5ib2R5SGVhZGVyMSB7CgloZWlnaHQ6IDM4cHg7CglmbGV4LXNocmluazogMDsKCWJhY2tncm91bmQtY29sb3I6ICNGNUQwNDk7Cgl3aWR0aDogNTA3cHg7Cglib3gtc2l6aW5nOiBib3JkZXItYm94OwoJcGFkZGluZy1sZWZ0OiAxMHB4Owp9CgpAZm9udC1mYWNlIHsKCWZvbnQtZmFtaWx5OiBMYXRvOwoJc3JjOiB1cmwoIi9Vc2Vycy9ncmVheWFtcC9Eb2N1bWVudHMvRGlnaXRhbFNNRS9kaWdpdGFsLWxlbmRpbmctbG9hbi1hcHBsaWNhdGlvbi9zcmMvbWFpbi9yZXNvdXJjZXMvc3RhdGljL2ZvbnQvTGF0by9MYXRvLVJlZ3VsYXIudHRmIik7Cn0KCi5sYWJlbEJvZHlIZWFkZXIxUGFnZTEgewoJY29sb3I6ICMwMDA7Cglmb250LWZhbWlseTogTGF0bzsKCWZvbnQtc2l6ZTogMTBweDsKCWZvbnQtd2VpZ2h0OiA3MDA7CglwYWRkaW5nLWJvdHRvbTogMi41cHg7Cglib3JkZXItYm90dG9tOiAxcHggc29saWQgYmxhY2s7Cn0KCi5sYWJlbEJvZHlTdWJIZWFkZXIxUGFnZTEgewoJY29sb3I6ICMwMDA7Cglmb250LWZhbWlseTogTGF0bzsKCWZvbnQtc2l6ZTogOHB4OwoJZm9udC1zdHlsZTogaXRhbGljOwoJZm9udC13ZWlnaHQ6IDQwMDsKCXZlcnRpY2FsLWFsaWduOiA1cHg7Cn0KCi5ib2R5Q29udGVudENvbnRhaW5lciB7CglkaXNwbGF5OiBmbGV4OwoJZmxleC1mbG93OiByb3c7CglmbGV4LXNocmluazogMDsKCXdpZHRoOiA1MDdweDsKCWJveC1zaXppbmc6IGJvcmRlci1ib3g7CglwYWRkaW5nLXRvcDogMjhweDsKCXBhZGRpbmctbGVmdDogMTBweDsKfQoKLmJvZHlDb250ZW50VG9wIHsKCWNvbG9yOiAjMDAwOwoJZm9udC1mYW1pbHk6IExhdG87Cglmb250LXNpemU6IDExcHg7Cglmb250LXN0eWxlOiBub3JtYWw7Cglmb250LXdlaWdodDogNDAwOwoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGJsYWNrOwp9CgouYm9keUNvbnRlbnRUb3BSaWdodCB7Cgljb2xvcjogIzAwMDsKCWZvbnQtZmVhdHVyZS1zZXR0aW5nczogJ2NsaWcnIG9mZiwgJ2xpZ2EnIG9mZjsKCWZvbnQtZmFtaWx5OiBMYXRvOwoJZm9udC1zaXplOiAxMXB4OwoJZm9udC1zdHlsZTogbm9ybWFsOwoJZm9udC13ZWlnaHQ6IDYwMDsKfQoKLmJvZHlDb250ZW50Qm90dG9tIHsKCWNvbG9yOiAjMDAwOwoJZm9udC1mYW1pbHk6IExhdG87Cglmb250LXNpemU6IDlweDsKCWZvbnQtc3R5bGU6IGl0YWxpYzsKCWZvbnQtd2VpZ2h0OiA0MDA7CglvcGFjaXR5OiAwLjQzOwoJdmVydGljYWwtYWxpZ246IDYuNXB4Cn0KCi5ib2R5Q29udGVudExlZnQgewogICBmbGV4OiAxOwoJd2lkdGg6IGF1dG87Cn0KCi5ib2R5Q29udGVudFJpZ2h0IHsKCW1hcmdpbi1sZWZ0OiAxNzBweDsKfQoKLmZvb3RlckxhYmVsVG9wIHsKCWRpc3BsYXk6IGZsZXg7CglmbGV4LWRpcmVjdGlvbjogcm93OwoJanVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwoJY29sb3I6ICMwMDA7Cglmb250LWZlYXR1cmUtc2V0dGluZ3M6ICdjbGlnJyBvZmYsICdsaWdhJyBvZmY7Cglmb250LWZhbWlseTogTGF0bzsKCWZvbnQtc2l6ZTogOHB4OwoJZm9udC1zdHlsZTogbm9ybWFsOwoJZm9udC13ZWlnaHQ6IDQwMDsKCWNvbG9yOiAjMDAwOwoJY29sb3I6ICMwMDA7Cn0KCi5mb290ZXJTdWJMYWJlbFRvcCB7CglkaXNwbGF5OiBmbGV4OwoJZmxleC1kaXJlY3Rpb246IHJvdzsKCWNvbG9yOiAjMDAwOwoJZm9udC1mZWF0dXJlLXNldHRpbmdzOiAnY2xpZycgb2ZmLCAnbGlnYScgb2ZmOwoJZm9udC1mYW1pbHk6IExhdG87Cglmb250LXNpemU6IDhweDsKCWZvbnQtc3R5bGU6IG5vcm1hbDsKCWZvbnQtd2VpZ2h0OiA0MDA7Cgljb2xvcjogIzAwMDsKfQoKLmZvb3RlckxhYmVsQm90dG9tIHsKCWNvbG9yOiAjOTE5MTkxOwoJZm9udC1mZWF0dXJlLXNldHRpbmdzOiAnY2xpZycgb2ZmLCAnbGlnYScgb2ZmOwoJZm9udC1mYW1pbHk6IExhdG87Cglmb250LXNpemU6IDhweDsKCWZvbnQtc3R5bGU6IGl0YWxpYzsKCWZvbnQtd2VpZ2h0OiA0MDA7CglsaW5lLWhlaWdodDogMTFweDsKfQoKLmZvb3RlckxhYmVsIHsKCW1hcmdpbi10b3A6IDE1cHg7Cn0KCi5wYWdlSW5mb3JtYXRpb24gewoJY29sb3I6ICM2NjY7Cglmb250LWZhbWlseTogTGF0bzsKCWZvbnQtc2l6ZTogOXB4OwoJZm9udC1zdHlsZTogbm9ybWFsOwoJZm9udC13ZWlnaHQ6IDQwMDsKCWxpbmUtaGVpZ2h0OiAxMnB4OyAvKiAxMzMuMzMzJSAqLwp9Cjwvc3R5bGU+CjwvaGVhZD4KPGJvZHkgc3R5bGU9ImZvbnQtZmFtaWx5OiBMYXRvIj4KCjxkaXYgaWQ9J1BhZ2UxJyBjbGFzcz0ncGFnZUNvbnRhaW5lcic+Cgk8ZGl2IGlkPSdoZWFkZXItcGFnZTEnIGNsYXNzPSJoZWFkZXJQYWdlMSI+CgkJPGRpdiBpZD0naGVhZGVyLWxpbmUxJyBjbGFzcz0naGVhZGVyUGFnZTFMaW5lMSc+CgkJCTxkaXYKCQkJCQlzdHlsZT0id2lkdGg6IDIzOHB4OyBoZWlnaHQ6IDI4cHg7IGZsZXgtc2hyaW5rOiAwOyBmb250LWZhbWlseTogTGF0byI+CgkJCQk8bGFiZWwgY2xhc3M9J2xhYmVsSGVhZGVyUGFnZTEnPkFQTElLQVNJIFBFUk1PSE9OQU4KCQkJCQlQRU1CSUFZQUFOPC9sYWJlbD4gPGxhYmVsIGNsYXNzPSdsYWJlbFN1YkhlYWRlclBhZ2UxJz5GaW5hbmNpbmcKCQkJCUFwcGxpY2F0aW9uIEZvcm08L2xhYmVsPgoJCQk8L2Rpdj4KCQkJPGRpdj4KCQkJCTxpbWcgdGg6c3JjPSAiQHsvaW1hZ2VzL2xvZ28tbWF5YmFuay5zdmd9IiAvPgoJCQk8L2Rpdj4KCQk8L2Rpdj4KCQk8ZGl2IGlkPSdoZWFkZXItbGluZTInIGNsYXNzPSdoZWFkZXJQYWdlMUxpbmUyJz4KCQkJPGRpdj4KCQkJCTxsYWJlbCBjbGFzcz0nbGFiZWwySGVhZGVyUGFnZTEnPk5vbW9yIFJlZmVyZW5zaTwvbGFiZWw+PGJyIC8+IDxsYWJlbAoJCQkJCWNsYXNzPSJsYWJlbDJTdWJIZWFkZXJQYWdlMSI+I0RMMjAyMzA4MTkyNzY3PC9sYWJlbD4KCQkJPC9kaXY+CgkJCTxkaXY+CgkJCQk8YnIgLz4gPGxhYmVsIGNsYXNzPSJkYXRlVGltZVBhZ2UxIj4yMiBKdW5pIDIwMjMsIDIwOjA1OjEzPC9sYWJlbD4KCQkJPC9kaXY+CgkJPC9kaXY+Cgk8L2Rpdj4KCTxkaXYgaWQ9J2JvZHktcGFnZTEnIGNsYXNzPSdib2R5UGFnZTEnPgoJCTxkaXYgaWQ9J2JvZHktaGVhZGVyMScgY2xhc3M9ImJvZHlIZWFkZXIxIj4KCQkJPGxhYmVsIGNsYXNzPSdsYWJlbEJvZHlIZWFkZXIxUGFnZTEnPlJpbmNpYW4gUGluamFtYW4vCgkJCQlQZW1iaWF5YWFuIEFuZGE8L2xhYmVsPjxiciAvPiA8bGFiZWwgY2xhc3M9J2xhYmVsQm9keVN1YkhlYWRlcjFQYWdlMSc+WW91cgoJCQlGaW5hbmNpbmcgRGV0YWlsczwvbGFiZWw+CgkJPC9kaXY+CgkJPGRpdiBjbGFzcz0iYm9keUNvbnRlbnRDb250YWluZXIiPgoKCQkJPGRpdj4KCQkJCTx0YWJsZSBzdHlsZT0id2lkdGg6IDEwMCUiID4KCQkJCQk8Y29sZ3JvdXA+CgkJCQkJCTxjb2wgc3R5bGU9IndpZHRoOiA1MCUiIC8+CgkJCQkJCTxjb2wgc3R5bGU9IndpZHRoOiA1MCUiIC8+CgkJCQkJPC9jb2xncm91cD4KCQkJCQk8dHI+CgkJCQkJCTx0ZD4KCQkJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRUb3AnPkZhc2lsaXRhcyBQaW5qYW1hbi8gUGVtYmlheWFhbjwvbGFiZWw+CgkJCQkJCQk8YnIgLz4KCQkJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRCb3R0b20nPkZpbmFuY2luZyBGYWNpbGl0eTwvbGFiZWw+CgkJCQkJCTwvdGQ+CgkJCQkJCTx0ZD4KCQkJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRUb3BSaWdodCc+UGluamFtYW4vIFBlbWJpYXlhYW4gVGFucGEgQWd1bmFuPC9sYWJlbD4KCQkJCQkJCTxiciAvPgoJCQkJCQkJPGxhYmVsIGNsYXNzPSdib2R5Q29udGVudEJvdHRvbSc+SW5zdGFudCBDbGVhbiBMb2FuLyBGaW5hbmNpbmc8L2xhYmVsPgoJCQkJCQk8L3RkPgoJCQkJCTwvdHI+CgkJCQkJPHRyPgoJCQkJCQk8dGQ+CgkJCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50VG9wJz5TdGF0dXMgUGVybmlrYWhhbjwvbGFiZWw+CgkJCQkJCQk8YnIgLz4KCQkJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRCb3R0b20nPk1hcml0YWwgU3RhdHVzPC9sYWJlbD4KCQkJCQkJPC90ZD4KCQkJCQkJPHRkPgoJCQkJCQkJPGxhYmVsIGNsYXNzPSdib2R5Q29udGVudFRvcFJpZ2h0Jz5NZW5pa2FoPC9sYWJlbD4KCQkJCQkJCTxiciAvPgoJCQkJCQkJPGxhYmVsIGNsYXNzPSdib2R5Q29udGVudEJvdHRvbSc+JHtmYWNpbGl0eURldGFpbC5tYXJpdGFsU3RhdHVzfTwvbGFiZWw+CgkJCQkJCTwvdGQ+CgkJCQkJPC90cj4KCQkJCQk8dHI+CgkJCQkJCTx0ZD4KCQkJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRUb3AnPkplbmlzIEtyZWRpdDwvbGFiZWw+CgkJCQkJCQk8YnIgLz4KCQkJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRCb3R0b20nPkNyZWRpdCBUeXBlPC9sYWJlbD4KCQkJCQkJPC90ZD4KCQkJCQkJPHRkPgoJCQkJCQkJPGxhYmVsIGNsYXNzPSdib2R5Q29udGVudFRvcFJpZ2h0Jz5Lb252ZW5zaW9uYWw8L2xhYmVsPgoJCQkJCQkJPGJyIC8+CgkJCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50Qm90dG9tJz5Db252ZW50aW9uYWw8L2xhYmVsPgoJCQkJCQk8L3RkPgoJCQkJCTwvdHI+CgkJCQkJPHRyPgoJCQkJCQk8dGQ+CgkJCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50VG9wJz5UZW5vciBQaW5qYW1hbi8gUGVtYmlheWFhbjwvbGFiZWw+CgkJCQkJCQk8YnIgLz4KCQkJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRCb3R0b20nPkZpbmFuY2luZyBEdXJhdGlvbjwvbGFiZWw+CgkJCQkJCTwvdGQ+CgkJCQkJCTx0ZD4KCQkJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRUb3BSaWdodCc+MTIgQnVsYW48L2xhYmVsPgoJCQkJCQkJPGJyIC8+CgkJCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50Qm90dG9tJz4xMiBNb250aDwvbGFiZWw+CgkJCQkJCTwvdGQ+CgkJCQkJPC90cj4KCQkJCQk8dHI+CgkJCQkJCTx0ZD4KCQkJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRUb3AnPlRvdGFsIFBpbmphbWFuPC9sYWJlbD4KCQkJCQkJCTxiciAvPgoJCQkJCQkJPGxhYmVsIGNsYXNzPSdib2R5Q29udGVudEJvdHRvbSc+RmluYW5jaW5nIEFtb3VudDwvbGFiZWw+CgkJCQkJCTwvdGQ+CgkJCQkJCTx0ZD4KCQkJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRUb3BSaWdodCc+UnAxMDAuMDAwLjAwMDwvbGFiZWw+CgkJCQkJCQk8YnIgLz4KCQkJCQkJCTxiciAvPgoJCQkJCQk8L3RkPgoJCQkJCTwvdHI+CgkJCQkJPHRyPgoJCQkJCQk8dGQ+CgkJCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50VG9wJz5QZXJraXJhYW4gQW5nc3VyYW4gcGVyIGJ1bGFuPC9sYWJlbD4KCQkJCQkJCTxiciAvPgoJCQkJCQkJPGxhYmVsIGNsYXNzPSdib2R5Q29udGVudEJvdHRvbSc+RXN0aW1hdGVkIE1vbnRobHkgSW5zdGFsbG1lbnQ8L2xhYmVsPgoJCQkJCQk8L3RkPgoJCQkJCQk8dGQ+CgkJCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50VG9wUmlnaHQnPlJwOS4wMDAuMDAwPC9sYWJlbD4KCQkJCQkJCTxiciAvPgoJCQkJCQkJPGJyIC8+CgkJCQkJCTwvdGQ+CgkJCQkJPC90cj4KCQkJCTwvdGFibGU+CgkJCTwvZGl2PgoKCQkJPGRpdiBpZD0nYm9keS1jb250ZW50LWxlZnQnIGNsYXNzPSJib2R5Q29udGVudExlZnQiPgoJCQkJPGRpdj4KCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50VG9wJz5GYXNpbGl0YXMgUGluamFtYW4vCgkJCQkJCVBlbWJpYXlhYW48L2xhYmVsPjxiciAvPiA8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50Qm90dG9tJz5GaW5hbmNpbmcKCQkJCQlGYWNpbGl0eTwvbGFiZWw+CgkJCQk8L2Rpdj4KCQkJCTxkaXY+CgkJCQkJPGxhYmVsIGNsYXNzPSdib2R5Q29udGVudFRvcCc+U3RhdHVzIFBlcm5pa2FoYW48L2xhYmVsPjxiciAvPiA8bGFiZWwKCQkJCQkJY2xhc3M9J2JvZHlDb250ZW50Qm90dG9tJz5NYXJpdGFsIFN0YXR1czwvbGFiZWw+CgkJCQk8L2Rpdj4KCQkJCTxkaXY+CgkJCQkJPGxhYmVsIGNsYXNzPSdib2R5Q29udGVudFRvcCc+SmVuaXMgS3JlZGl0PC9sYWJlbD48YnIgLz4gPGxhYmVsCgkJCQkJCWNsYXNzPSdib2R5Q29udGVudEJvdHRvbSc+Q3JlZGl0IFR5cGU8L2xhYmVsPgoJCQkJPC9kaXY+CgkJCQk8ZGl2PgoJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRUb3AnPlRlbm9yIFBpbmphbWFuLyBQZW1iaWF5YWFuPC9sYWJlbD48YnIgLz4KCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50Qm90dG9tJz5GaW5hbmNpbmcgRHVyYXRpb248L2xhYmVsPgoJCQkJPC9kaXY+CgkJCQk8ZGl2PgoJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRUb3AnPlRvdGFsIFBpbmphbWFuPC9sYWJlbD48YnIgLz4gPGxhYmVsCgkJCQkJCWNsYXNzPSdib2R5Q29udGVudEJvdHRvbSc+RmluYW5jaW5nIEFtb3VudDwvbGFiZWw+CgkJCQk8L2Rpdj4KCQkJCTxkaXY+CgkJCQkJPGxhYmVsIGNsYXNzPSdib2R5Q29udGVudFRvcCc+UGVya2lyYWFuIEFuZ3N1cmFuIHBlciBidWxhbjwvbGFiZWw+PGJyIC8+CgkJCQkJPGxhYmVsIGNsYXNzPSdib2R5Q29udGVudEJvdHRvbSc+RXN0aW1hdGVkIE1vbnRobHkKCQkJCQkJSW5zdGFsbG1lbnQ8L2xhYmVsPgoJCQkJPC9kaXY+CgkJCTwvZGl2PgoJCQk8ZGl2IGlkPSdib2R5LWNvbnRlbnQtcmlnaHQnIGNsYXNzPSJib2R5Q29udGVudFJpZ2h0Ij4KCQkJCTxkaXY+CgkJCQkJPGxhYmVsIGNsYXNzPSdib2R5Q29udGVudFRvcFJpZ2h0Jz5QaW5qYW1hbi8gUGVtYmlheWFhbgoJCQkJCQlUYW5wYSBBZ3VuYW48L2xhYmVsPjxiciAvPiA8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50Qm90dG9tJz5JbnN0YW50CgkJCQkJQ2xlYW4gTG9hbi8gRmluYW5jaW5nPC9sYWJlbD4KCQkJCTwvZGl2PgoJCQkJPGRpdj4KCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50VG9wUmlnaHQnPk1lbmlrYWg8L2xhYmVsPjxiciAvPiA8bGFiZWwKCQkJCQkJY2xhc3M9J2JvZHlDb250ZW50Qm90dG9tJz4ke2ZhY2lsaXR5RGV0YWlsLm1hcml0YWxTdGF0dXN9PC9sYWJlbD4KCQkJCTwvZGl2PgoJCQkJPGRpdj4KCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50VG9wUmlnaHQnPktvbnZlbnNpb25hbDwvbGFiZWw+PGJyIC8+IDxsYWJlbAoJCQkJCQljbGFzcz0nYm9keUNvbnRlbnRCb3R0b20nPkNvbnZlbnRpb25hbDwvbGFiZWw+CgkJCQk8L2Rpdj4KCQkJCTxkaXY+CgkJCQkJPGxhYmVsIGNsYXNzPSdib2R5Q29udGVudFRvcFJpZ2h0Jz4xMiBCdWxhbjwvbGFiZWw+PGJyIC8+IDxsYWJlbAoJCQkJCQljbGFzcz0nYm9keUNvbnRlbnRCb3R0b20nPjEyIE1vbnRoPC9sYWJlbD4KCQkJCTwvZGl2PgoJCQkJPGRpdj4KCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50VG9wUmlnaHQnPlJwMTAwLjAwMC4wMDA8L2xhYmVsPjxiciAvPiA8YnIgLz4KCQkJCTwvZGl2PgoJCQkJPGRpdj4KCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50VG9wUmlnaHQnPlJwOS4wMDAuMDAwPC9sYWJlbD48YnIgLz4gPGJyIC8+CgkJCQk8L2Rpdj4KCQkJPC9kaXY+CgkJPC9kaXY+Cgk8L2Rpdj4KCTxkaXYgaWQ9J2JvZHktcGFnZTInIGNsYXNzPSdib2R5UGFnZTInPgoJCTxkaXYgaWQ9J2JvZHktaGVhZGVyMScgY2xhc3M9ImJvZHlIZWFkZXIxIj4KCQkJPGxhYmVsIGNsYXNzPSdsYWJlbEJvZHlIZWFkZXIxUGFnZTEnPlJpbmNpYW4gUGVydXNhaGFhbjwvbGFiZWw+PGJyIC8+CgkJCTxsYWJlbCBjbGFzcz0nbGFiZWxCb2R5U3ViSGVhZGVyMVBhZ2UxJz5Db21wYW55IERldGFpbHM8L2xhYmVsPgoJCTwvZGl2PgoJCTxkaXYgY2xhc3M9ImJvZHlDb250ZW50Q29udGFpbmVyIj4KCQkJPGRpdiBpZD0nYm9keS1jb250ZW50LWxlZnQnIGNsYXNzPSJib2R5Q29udGVudExlZnQiPgoJCQkJPGRpdj4KCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50VG9wJz5OYW1hIFBlcnVzYWhhYW48L2xhYmVsPjxiciAvPiA8bGFiZWwKCQkJCQkJY2xhc3M9J2JvZHlDb250ZW50Qm90dG9tJz5Db21wYW55IE5hbWU8L2xhYmVsPgoJCQkJPC9kaXY+CgkJCQk8ZGl2PgoJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRUb3AnPlRhbmdnYWwgUGVuZGlyaWFuIFBlcnVzYWhhYW48L2xhYmVsPjxiciAvPgoJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRCb3R0b20nPkRhdGUgb2YgRXN0YWJsaXNobWVudDwvbGFiZWw+CgkJCQk8L2Rpdj4KCQkJCTxkaXY+CgkJCQkJPGxhYmVsIGNsYXNzPSdib2R5Q29udGVudFRvcCc+T21zZXQgRGFsYW0gU2V0YWh1bjwvbGFiZWw+PGJyIC8+IDxsYWJlbAoJCQkJCQljbGFzcz0nYm9keUNvbnRlbnRCb3R0b20nPkxhdGVzdCBBbm51YWwgQ29tcGFueQoJCQkJCVR1cm5vdmVyL1NhbGVzPC9sYWJlbD4KCQkJCTwvZGl2PgoJCQkJPGRpdj4KCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50VG9wJz5LYXRlZ29yaSBVc2FoYTwvbGFiZWw+PGJyIC8+IDxsYWJlbAoJCQkJCQljbGFzcz0nYm9keUNvbnRlbnRCb3R0b20nPkJ1c2luZXNzIENhdGVnb3J5PC9sYWJlbD4KCQkJCTwvZGl2PgoJCQk8L2Rpdj4KCQkJPGRpdiBpZD0nYm9keS1jb250ZW50LXJpZ2h0JyBjbGFzcz0iYm9keUNvbnRlbnRSaWdodCI+CgkJCQk8ZGl2PgoJCQkJCTxsYWJlbCBjbGFzcz0nYm9keUNvbnRlbnRUb3BSaWdodCc+UFQgR2FydWRhIFJheWEgU2VtZXN0YTwvbGFiZWw+PGJyIC8+CgkJCQkJPGJyIC8+CgkJCQk8L2Rpdj4KCQkJCTxkaXY+CgkJCQkJPGxhYmVsIGNsYXNzPSdib2R5Q29udGVudFRvcFJpZ2h0Jz4wMyBKdWwsIDE5NjU8L2xhYmVsPjxiciAvPiA8YnIgLz4KCQkJCTwvZGl2PgoJCQkJPGRpdj4KCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50VG9wUmlnaHQnPlJwMzAwLjAwMC4wMDA8L2xhYmVsPjxiciAvPiA8YnIgLz4KCQkJCTwvZGl2PgoJCQkJPGRpdj4KCQkJCQk8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50VG9wUmlnaHQnPlByb2R1ayBNYWthbmFuICZhbXA7CgkJCQkJCU1pbnVtYW48L2xhYmVsPjxiciAvPiA8bGFiZWwgY2xhc3M9J2JvZHlDb250ZW50Qm90dG9tJz5Gb29kICZhbXA7CgkJCQkJQmV2ZXJhZ2VzIFByb2R1Y3Q8L2xhYmVsPgoJCQkJPC9kaXY+CgkJCTwvZGl2PgoJCTwvZGl2PgoJPC9kaXY+Cgk8ZGl2IGlkPSdmb290ZXItcGFnZTEnIGNsYXNzPSdmb290ZXJQYWdlMSc+CgkJPGRpdiBpZD0nZm9vdGVyTGFiZWwnIGNsYXNzPSJmb290ZXJMYWJlbCI+CgkJCTxkaXYgY2xhc3M9ImZvb3RlckxhYmVsVG9wIj4KCQkJCTxkaXYgY2xhc3M9ImZvb3RlclN1YkxhYmVsVG9wIj4KCQkJCQk8ZGl2PlBUIEJhbmsgTWF5YmFuayBJbmRvbmVzaWEsIFRiay4gQmVyaXppbiBkYW4gZGlhd2FzaQoJCQkJCQlvbGVoIE90b3JpdGFzIEphc2EgS2V1YW5nYW4gKE9KSykuPC9kaXY+CgkJCQkJPGRpdj4KCQkJCQkJPGltZyB0aDpocmVmPSJAey9hc3NldHMvaW1hZ2VzL2xvZ28tb2prLnN2Z30iIC8+CgkJCQkJPC9kaXY+CgkJCQk8L2Rpdj4KCQkJCTxkaXYgY2xhc3M9InBhZ2VJbmZvcm1hdGlvbiI+UGFnZSAxIG9mIDM8L2Rpdj4KCQkJPC9kaXY+CgkJCTxkaXYgY2xhc3M9ImZvb3RlckxhYmVsQm90dG9tIj5QVCBCYW5rIE1heWJhbmsgSW5kb25lc2lhLCBUYmsuCgkJCQlJcyBsaWNlbnNlZCBhbmQgc3VwZXJ2aXNlZCBieSBPSksuPC9kaXY+CgkJPC9kaXY+CgoJPC9kaXY+CjwvZGl2Pgo8L2JvZHk+Cgo8L2h0bWw+";
		ConversionRequestModel conversionRequestModel = ConversionRequestModel.builder().htmlContent(encodedHtml)
				.build();

		String result = htmlConversionService.convertHtmlToPdf(conversionRequestModel);

		assert !result.isEmpty();
	}
}
